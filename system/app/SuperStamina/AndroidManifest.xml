<?xml version="1.0" encoding="utf-8" standalone="no"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android" android:sharedUserId="android.uid.system" package="com.sonymobile.superstamina">
    <protected-broadcast android:name="com.sonymobile.SUPER_STAMINA_POWER_STATE_CHANGED"/>
    <protected-broadcast android:name="com.sonymobile.POWER_SAVER"/>
    <protected-broadcast android:name="com.sonymobile.SUPER_STAMINA_SERVICE_STARTED"/>
    <protected-broadcast android:name="com.sonymobile.RUNTIME_STAMINA_STATE_CHANGE"/>
    <protected-broadcast android:name="com.sonymobile.SUPER_STAMINA_SETTING_CHANGED"/>
    <protected-broadcast android:name="com.sonymobile.XSSM_SETTING_CHANGED"/>
    <protected-broadcast android:name="com.sonymobile.POWERSAVER_SETTING_CHANGED"/>
    <uses-permission android:name="android.permission.BROADCAST_STICKY"/>
    <uses-permission android:name="android.permission.DELETE_PACKAGES"/>
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/>
    <uses-permission android:name="android.permission.WAKE_LOCK"/>
    <uses-permission android:name="android.permission.CONNECTIVITY_INTERNAL"/>
    <uses-permission android:name="com.sonyericsson.permission.IDD"/>
    <uses-permission android:name="android.permission.RECEIVE_EMERGENCY_BROADCAST"/>
    <uses-permission android:name="android.permission.INTERACT_ACROSS_USERS_FULL"/>
    <uses-permission android:name="android.permission.PACKAGE_USAGE_STATS"/>
    <uses-permission android:name="android.permission.BATTERY_STATS"/>
    <uses-permission android:name="android.permission.MANAGE_USERS"/>
    <uses-permission android:name="android.permission.INTERNAL_SYSTEM_WINDOW"/>
    <uses-permission android:name="android.Manifest.permission.CONNECTIVITY_INTERNAL"/>
    <permission android:name="com.sonymobile.permission.XSSM" android:protectionLevel="signatureOrSystem"/>
    <permission android:name="com.sonymobile.permission.XSSM_PROVIDER" android:protectionLevel="signatureOrSystem"/>
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
    <application android:hardwareAccelerated="false" android:label="@string/app_name" android:process="system" android:supportsRtl="true">
        <uses-library android:name="com.sonyericsson.idd"/>
        <uses-library android:name="com.google.protobuf-2.3.0"/>
        <uses-library android:name="com.sonyericsson.uxpres"/>
        <receiver android:name=".SuperStaminaReceiver">
            <intent-filter>
                <action android:name="android.intent.action.BOOT_COMPLETED"/>
            </intent-filter>
            <intent-filter>
                <action android:name="android.intent.action.PACKAGE_REMOVED"/>
                <action android:name="android.intent.action.PACKAGE_ADDED"/>
                <data android:scheme="package"/>
            </intent-filter>
            <intent-filter>
                <action android:name="com.sonymobile.SUPER_STAMINA_SETTING_CHANGED"/>
                <action android:name="com.sonymobile.SUPER_STAMINA_SERVICE_STARTED"/>
                <action android:name="com.sonymobile.XSSM_SETTING_CHANGED"/>
                <action android:name="com.sonymobile.POWERSAVER_SETTING_CHANGED"/>
            </intent-filter>
        </receiver>
        <activity android:configChanges="keyboardHidden|orientation" android:excludeFromRecents="true" android:name=".SuperStaminaDialog" android:stateNotNeeded="true" android:theme="@style/SuperStaminaDialog"/>
        <activity android:configChanges="keyboardHidden|orientation" android:excludeFromRecents="true" android:name=".PowerSaverDialog" android:stateNotNeeded="true" android:theme="@style/SuperStaminaDialog"/>
        <activity android:configChanges="keyboardHidden|orientation" android:excludeFromRecents="true" android:name=".analyzer.ChargeStateDialog" android:stateNotNeeded="true" android:theme="@style/SuperStaminaDialog"/>
        <service android:exported="true" android:name=".XperiaPowerService" android:permission="com.sonymobile.permission.XSSM"/>
        <provider android:authorities="com.sonymobile.superstamina.xperiapowerservice.provider" android:exported="true" android:name=".provider.XperiaPowerServiceContentProvider" android:permission="com.sonymobile.permission.XSSM_PROVIDER"/>
        <receiver android:icon="@drawable/smallapps_launcher" android:label="@string/widget_name" android:name=".appwidget.StaminaAppwidget" android:process=":appwidget">
            <intent-filter>
                <action android:name="android.appwidget.action.APPWIDGET_UPDATE"/>
            </intent-filter>
            <intent-filter>
                <action android:name="com.sonymobile.SUPER_STAMINA"/>
            </intent-filter>
            <intent-filter>
                <action android:name="com.sonymobile.superstamina.appwidget.TOGGLE_STAMINA_MODE"/>
            </intent-filter>
            <meta-data android:name="android.appwidget.provider" android:resource="@xml/stamina_appwidget_info"/>
        </receiver>
        <service android:name=".appwidget.StaminaAppwidget$WidgetService" android:process=":appwidget"/>
        <service android:name=".test.InstrumentationTestService" android:permission="com.sonymobile.permission.XSSM"/>
    </application>
</manifest>
